<!--
  Generated template for the EditPassword page.

  See http://ionicframework.com/docs/v2/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>更改密碼</ion-title>
    <ion-buttons ion-button end>
      <button ion-button color="dark" (click)="editPassword(updatePasswordForm)" [disabled]="!updatePasswordForm.controls.old_password.valid || !updatePasswordForm.controls.password.valid || !updatePasswordForm.controls.password_confirmation.valid || sandbutton==0">
        <ion-icon name="checkmark"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content>

  <form [formGroup]="updatePasswordForm" novalidate>

  <ion-list>    
    <ion-item>
      <ion-label><ion-icon name="lock"></ion-icon></ion-label>
      <ion-input type="password"  formControlName="old_password" placeholder="當前密碼"></ion-input>
    </ion-item>

    <div *ngIf="updatePasswordForm.controls.old_password.hasError('required') && updatePasswordForm.controls.old_password.touched">
      <font color="red" padding-left>請輸入現在密碼</font>
    </div>

    <div *ngIf="updatePasswordForm.controls.old_password.hasError('minlength') && updatePasswordForm.controls.old_password.touched">
      <font color="red" padding-left>現在密碼至少6個字</font>
    </div>

    <div *ngIf="updatePasswordForm.controls.old_password.hasError('currentPassword') && updatePasswordForm.controls.old_password.touched">
      <font color="red" padding-left>現在密碼不正確</font>
    </div>

    <ion-item>
      <ion-label><ion-icon name="lock"></ion-icon></ion-label>
      <ion-input type="password" formControlName="password" placeholder="新密碼"></ion-input>
    </ion-item>

    <div *ngIf="updatePasswordForm.controls.password.hasError('required') && updatePasswordForm.controls.password.touched">
      <font color="red" padding-left>請輸入新密碼</font>
    </div>

    <div *ngIf="updatePasswordForm.controls.password.hasError('minlength') && updatePasswordForm.controls.password.touched">
      <font color="red" padding-left>新密碼至少要6個字</font>
    </div>

    <ion-item>
      <ion-label><ion-icon name="lock"></ion-icon></ion-label>
      <ion-input type="password" formControlName="password_confirmation" placeholder="再次輸入新密碼"></ion-input>
    </ion-item>
  </ion-list>

  <div *ngIf="updatePasswordForm.controls.password_confirmation.hasError('required') && updatePasswordForm.controls.password_confirmation.touched">
      <font color="red" padding-left>請輸入重輸新密碼</font>
    </div>

    <div *ngIf="updatePasswordForm.controls.password_confirmation.hasError('minlength') && updatePasswordForm.controls.password_confirmation.touched">
      <font color="red" padding-left>密碼至少要有6個字元</font>
    </div>

    <div *ngIf="updatePasswordForm.controls.password_confirmation.hasError('notEquivalent') && updatePasswordForm.controls.password_confirmation.touched">
      <font color="red" padding-left>與新密碼不相同</font>
    </div>

  </form>

</ion-content>
